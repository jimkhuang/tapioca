作者a76126 (123)看板Stock標題[心得] 2023使用機器學習選股的年報時間Mon Jan  1 22:37:56 2024
過去每年都是自己憑感覺玩，處於那種賺了抱不住，賠了一停損馬上漲

只會google以為kd<20可以進場，kd>80準備要出場

或是覺得營收很好欸，結果進場一路崩

最後搞到賺的吐回去甚至還賠，然後就心態崩潰不玩了，但過一陣子又手癢那種輪迴

所以我自認我沒有玩股票的天分，那所幸我研究所玩過一點機器學習(但不是用在股票)

就想說自己搞不懂，那我就讓機器模型幫我搞懂，跟我講要買什麼就好

以下紀錄2023年的過程，但其實模型2022年8月開始實戰，那時候是125萬

2023年開始成本:141萬

年底損益:43萬+18萬股息

對帳單:https://upload.cc/i1/2024/01/01/AYbTO4.png

選股買賣週期:每個月all in

Input:一點點基本面+一堆技術指標共45個特徵

Training範圍:2005~2015

Testing範圍:2016~2022/7

模型:Weighted Ensemble
(類神經網路+XGBRegressor+ARDRegression+KNeighborsRegressor+ExtraTreesRegressor)

Output:模型Ranking後推薦的TOP 3分散投資

過濾:剔除交易金額1千萬以下的個股
(後來還是覺得金額還是太少，但再濾，資料量勝率跟報酬率都會降)

心得:

1.相信模型，很多時候推薦出來我心裡都os，師傅真的要這樣買嗎，kd鈍化了欸
結果過程中間可能會賠，但最後就是會賺

2.找出場機制，因為買賣週期是1個月，但回頭看其實不一定是賣在相對最佳的時間點，
一開始我逼自己嚴守紀律一定要時間到才賣，但少賺很多
後來自己套用一些開頭寫的那種kd簡單規則進行出場，並且做一些變化回測看看
結果那種google的到的規則突然有用了
這邊也可以分享"交易量"是最重要的，什麼規則幾乎都要配合量來看

3.整體績效來說應該有贏0050，截止10月也還贏正2，但不知道為何11月開始上漲這一波
模型選的股票沒跟到，導致績效輸正2，有點小灰心，覺得自己在忙什麼
可能隨時做好模型失效的準備

以上





推 seemoon2000 : 線型選股策略在完全的多頭年 小輸正二還好吧... 01/01 22:44

推 waitrop     : 模型在大多頭跟大空頭年都會失真,因為這是特殊事件 01/01 22:47

→ waitrop     : 模型一般在普通年份會表現比較好也比較準,我認為 01/01 22:48

推 ctttttt     : 不熟模型 但這樣應該也是在trade策略嗎，那應該會 01/01 22:51

→ ctttttt     : 有吞吐量的問題，輸正二也還好 你等於拿去跟槓桿比 01/01 22:51

→ ctttttt     : ，那你也可以拿你的策略去開槓。 01/01 22:51

推 topfree     : 大多頭年輸正二就算了啦..盤整跟空頭年贏回來就好了 01/01 22:53

推 cpz         : 有沒有一種可能面對有趨勢的需要另一種指標？ 01/01 22:55

→ cpz         : 大多頭跟大空頭才是魚身 01/01 22:56

推 SRNOB       : 有沒有入門推薦? 01/01 23:17

→ a76126      : 我漏掉最重要的心得，就是今年是多頭年... 01/01 23:18

→ a76126      : 模型沒經過空頭洗禮過...還需要更多時間驗證 01/01 23:19

→ techo       : 結論買正二就好? 困罷數錢 XD 01/01 23:58

→ midas82539  : 他是前測2005~2015然後後測2016~2022驗證是否有效 01/02 00:15

→ midas82539  : 機器學習我不懂就從略，不過還是講一下 01/02 00:17

→ midas82539  : 理論模型本來就不可能達到100%效率，你回頭看只是 01/02 00:17

→ midas82539  : 因為你看到"未來"走勢才能評斷的，模型當下不會知道 01/02 00:19

→ shmim       : 只有我覺得成本141萬股息18萬很詭異嗎 台股有那麼 01/02 00:41

→ shmim       : 多殖利率超過10%還填息的股票？ 01/02 00:41

→ wang111283  : 績效輸+2不是問題 如果DD也比+2損更多才是沒用 01/02 00:41

推 ivan1116    : 推 希望可以看到長期分享 很有趣 01/02 00:45

推 cwts        : 推 01/02 01:13

推 linfuon     : 股息18萬是用了榨汁的玩法吧 領息一檔後去領下一檔 01/02 01:54

→ linfuon     : 大多頭年用這招很爽 填息率愈高週轉率也可愈高 01/02 01:55

推 csluling    : 我看盤整盤Ai要怎麼玩 01/02 04:12

推 psgbpsgb    : 如果永遠都漲確實會贏呀 畢竟回調後 下次往回漲一定 01/02 04:38

→ psgbpsgb    : 比前一次高 01/02 04:38

推 GoGoD       : 你試試[KD鈍化]買入條件，會不會績效大爆發？ 01/02 05:06

推 zero7810    : 回測就知道答案了 01/02 05:15

推 y800122155  : 你有做cross validation嗎? 還有你怎麼判斷模型處於 01/02 05:22

→ y800122155  : overfitting還是underfitting? 你data選的時間區間 01/02 05:22

→ y800122155  : 的邏輯是? 01/02 05:22

推 phoenixtwo  : 因為他週期是月  所以股息才這麼少 01/02 06:44

→ phoenixtwo  : 可以考慮部分用年做交易週期 01/02 06:45

推 pacino      : 模型不準，不就是data set有問題? 簡單來說, 你的 01/02 06:50

→ pacino      : 資料不就只是籌碼面？ 01/02 06:50

→ pacino      : 例如，你的模型怎麼判斷AMD的AI晶片能不能追上NVDA 01/02 06:52

→ pacino      : ?第幾季開始影響？ 01/02 06:52

→ liton       : 你賺的是beta 01/02 07:14

推 x221x221    : 真麻煩 全丟00929就好 01/02 07:22

推 tompi       : 推一個 01/02 07:57

推 PitzMan     : 推AI機器人模型操股LoL 01/02 08:20

推 Wishmaster  : 我覺得你的模型如果2022,2023都是賺那值得參考 01/02 08:49

→ tsuneo      : 多頭年就看敢不敢壓而已 01/02 09:01

推 GiPaPa      : 雖然你有賺 不過train/validation最好別這樣切 01/02 09:17

推 sky22485816 : 你模型是做分類任務 然後把output Ranking? 01/02 09:47

→ sky22485816 : 四十幾個特徵都是價格衍生技術指標? 01/02 09:49

→ sky22485816 : 不考慮將股票池做類股分群嗎? 01/02 09:49

推 patricktu   : dd多少 01/02 09:51

→ sky22485816 : 資料 也可以考慮用TimeSeries CV來切 01/02 09:51

→ sky22485816 : 噢 沒看清 你是做Regression 01/02 09:59

推 ninet       : 股市走多頭，怎麼買都會贏，走空頭，怎麼買都會輸， 01/02 10:21

→ ninet       : 說到底還是本多終勝 01/02 10:21

推 libramog    : 輸入只有kd資料做學習嗎？ 01/02 10:33

噓 su27        : 我去年十月買股 至今沒一檔不賺的，你先等你模型能 01/02 10:34

→ su27        : 躲過開頭再說 01/02 10:34

推 abc5555990  :  未來會不會有AI巴菲特 01/02 10:40

推 moboo       : 其實這績效只證明你是白忙一場，根本選不贏人類啊 01/02 10:47

→ moboo       : 選半天跟大盤差不多，風險高很多 01/02 10:47

推 BernieWisman: 別看淨報酬 要看Sharpe 01/02 11:35

推 IN          : 有書單可以推薦嗎？ 01/02 11:43

推 sky22485816 : 個人比較喜歡看Calmar Ratio，比較在意風險。 01/02 12:02

推 SentLiTryPay: 推 01/02 12:31

推 ader888     : 請問下單是人工下還是程式下的 01/02 13:17

→ a76126      : 人工下單 dd約10%左右 01/02 13:54

→ a76126      : 我沒看書 我直接買線上課程 拿程式回來改 01/02 13:54

→ a76126      : 如何知道有沒有overfitting，我只會看traing和vali 01/02 13:58

→ a76126      : dation兩者的趨勢 01/02 13:59

→ a76126      : 好奇G大不建議這樣分割資料是為何呢? 沒測到08年嗎 01/02 14:01

推 bearching   : 印象中cross-validation應該是全部資料去切？ 01/02 14:43

→ bearching   : 切k段然後拿k-1段train，第k段拿來驗證，這樣資料 01/02 14:45

→ bearching   : 比較不浪費 個人觀點是把時間拉長，把每個短期shock 01/02 14:46

→ bearching   : 都變成循環的一部分，這樣模型應該表現會越來越好 01/02 14:46

推 staytuned74 : 參考一下這篇量化報導，https://reurl.cc/rr1OAZ 01/02 14:48

→ staytuned74 : 另外你的模型可能有潛在問題 1.生存者偏差 01/02 14:50

→ staytuned74 : 2除權息調整 3太過集中持股，建議放寬持股看敏感性 01/02 14:52
